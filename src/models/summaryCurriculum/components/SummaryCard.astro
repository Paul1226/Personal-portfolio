---
interface Props {
  position: string;
  companyName?: string;
  dates?: string;
  summary: string;
  inGreen?: boolean;
}
const { position, companyName, dates, summary, inGreen = false } = Astro.props;
const textColor = inGreen
  ? "text-whiteHaze dark:text-woodSmoke"
  : "text-woodSmoke dark:text-whiteHaze";
const textParagraph = inGreen
  ? "text-whiteHaze/80 dark:text-woodSmoke/90"
  : "text-slate-700 dark:text-whiteHaze/80";
const titleGreen = inGreen
  ? "text-gold-400 dark:text-regalBlue"
  : "text-accent";
const bgGreen = inGreen ? "bg-gold-400 dark:bg-regalBlue" : "bg-accent";
const sticky = inGreen
  ? "before:border-whiteHaze/40 dark:before:border-woodSmoke/40"
  : "before:border-woodSmoke/10 dark:before:border-whiteHaze/10";
---

<div
  class:list={[
    "relative mx-12 pb-6 grid before:absolute before:left-[-35px] before:block before:h-full before:border-l-2 before:border-terciary-gray before:content-[''] md:grid-cols-5 md:gap-10 md:space-x-4]",
    sticky,
  ]}
>
  <div class="relative pb-5 md:col-span-2">
    <div class="sticky top-0">
      <span
        class:list={[
          "-left-[39px] top-2 absolute size-[10px] rounded-sm",
          bgGreen,
        ]}></span>
      <h3 class:list={["text-xl font-bold", titleGreen]}>{position}</h3>
      {
        companyName && (
          <h4 class:list={["font-semibold text-xl", textColor]}>
            {companyName}
          </h4>
        )
      }
      {
        dates && (
          <time class:list={["p-0 m-0 text-sm", textColor]}>{dates}</time>
        )
      }
    </div>
  </div>
  <div
    class:list={[
      "relative font-light flex flex-col gap-2 pb-4 md:col-span-3",
      textParagraph,
    ]}
  >
    {summary}
  </div>
</div>
